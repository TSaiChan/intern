{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\thumm\\\\OneDrive\\\\Desktop\\\\digi-goat\\\\front-end\\\\src\\\\components\\\\BuyGoats.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport Swal from 'sweetalert2';\nimport { jwtDecode } from 'jwt-decode';\nimport './css/login.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction BuyGoats() {\n  _s();\n  const [goats, setGoats] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [purchasingIds, setPurchasingIds] = useState(new Set());\n  const navigate = useNavigate();\n  useEffect(() => {\n    const token = localStorage.getItem('token');\n    if (!token) {\n      Swal.fire({\n        icon: 'error',\n        title: 'Unauthorized',\n        text: 'Please log in to buy goats.',\n        confirmButtonColor: '#3085d6'\n      }).then(() => navigate('/'));\n      return;\n    }\n    let decodedToken;\n    try {\n      decodedToken = jwtDecode(token);\n    } catch (err) {\n      localStorage.removeItem('token');\n      Swal.fire({\n        icon: 'error',\n        title: 'Invalid Token',\n        text: 'Your session is invalid. Please log in again.',\n        confirmButtonColor: '#3085d6'\n      }).then(() => navigate('/'));\n      return;\n    }\n    const groupId = Number(decodedToken.group_id);\n    if (groupId !== 1) {\n      Swal.fire({\n        icon: 'error',\n        title: 'Unauthorized',\n        text: 'Customers only (group_id = 1).',\n        confirmButtonColor: '#3085d6'\n      }).then(() => navigate('/'));\n      return;\n    }\n    const userId = decodedToken.user_id;\n    console.log('Current User ID:', userId);\n    fetch('http://localhost:3000/api/goats/available', {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    }).then(res => {\n      console.log('API Response Status:', res.status, res.statusText);\n      if (!res.ok) {\n        throw new Error(`HTTP error! Status: ${res.status}`);\n      }\n      return res.json();\n    }).then(data => {\n      console.log('API Response Data:', data);\n      data.forEach(goat => {\n        console.log(`Goat ID: ${goat.id}, Number: ${goat.goat_number}, Breed: ${goat.breed}, is_active: ${goat.is_active}, user_id: ${goat.user_id} (type: ${typeof goat.user_id})`);\n      });\n      const availableGoats = data.filter(goat => Number(goat.user_id) !== userId);\n      console.log('Available Goats after filtering:', availableGoats);\n      setGoats(availableGoats);\n      setLoading(false);\n    }).catch(err => {\n      console.error('Error fetching goats:', err);\n      setError(`Failed to load goats: ${err.message}`);\n      setLoading(false);\n    });\n  }, [navigate]);\n  const handlePurchase = goat => {\n    if (purchasingIds.has(goat.id)) return;\n\n    // Prompt user to enter a price\n    Swal.fire({\n      title: `Purchase Goat #${goat.goat_number}`,\n      text: `Enter your offer (between $${goat.minimum_price} and $${goat.maximum_price}):`,\n      input: 'number',\n      inputLabel: 'Price ($)',\n      inputPlaceholder: 'Enter price',\n      showCancelButton: true,\n      confirmButtonColor: '#3085d6',\n      cancelButtonColor: '#d33',\n      inputValidator: value => {\n        const price = parseFloat(value);\n        if (!value || isNaN(price)) {\n          return 'Please enter a valid price!';\n        }\n        if (price < goat.minimum_price || price > goat.maximum_price) {\n          return `Price must be between $${goat.minimum_price} and $${goat.maximum_price}!`;\n        }\n        return null;\n      }\n    }).then(result => {\n      if (result.isConfirmed) {\n        const price = parseFloat(result.value);\n        setPurchasingIds(prev => new Set(prev).add(goat.id));\n        const token = localStorage.getItem('token');\n        fetch('http://localhost:3000/api/purchases', {\n          method: 'POST',\n          headers: {\n            Authorization: `Bearer ${token}`,\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            goat_id: goat.id,\n            price\n          })\n        }).then(res => {\n          if (!res.ok) {\n            return res.json().then(data => {\n              throw new Error(data.message || 'Failed to purchase goat.');\n            });\n          }\n          return res.json();\n        }).then(data => {\n          Swal.fire({\n            icon: 'success',\n            title: 'Goat Purchased',\n            text: 'You have successfully purchased the goat!',\n            confirmButtonColor: '#3085d6'\n          }).then(() => {\n            setGoats(goats.filter(g => g.id !== goat.id));\n            navigate('/my-goats');\n          });\n        }).catch(err => {\n          Swal.fire({\n            icon: 'error',\n            title: 'Purchase Failed',\n            text: err.message || 'Failed to purchase goat. Please try again.',\n            confirmButtonColor: '#3085d6'\n          });\n        }).finally(() => {\n          setPurchasingIds(prev => {\n            const copy = new Set(prev);\n            copy.delete(goat.id);\n            return copy;\n          });\n        });\n      }\n    });\n  };\n  const handleViewDetails = goat => {\n    Swal.fire({\n      icon: 'info',\n      title: `Goat #${goat.goat_number} Details`,\n      html: `\n        <div style=\"text-align: left;\">\n          <p><strong>Breed:</strong> ${goat.breed || 'N/A'}</p>\n          <p><strong>Date of Birth:</strong> ${goat.dob ? new Date(goat.dob).toLocaleDateString() : 'N/A'}</p>\n          <p><strong>Weight:</strong> ${goat.weight ? `${goat.weight} kg` : 'N/A'}</p>\n          <p><strong>Health Status:</strong> ${goat.health_status || 'N/A'}</p>\n          <p><strong>Minimum Price:</strong> $${goat.minimum_price || 'N/A'}</p>\n          <p><strong>Maximum Price:</strong> $${goat.maximum_price || 'N/A'}</p>\n          ${goat.price ? `<p><strong>Fixed Price:</strong> $${goat.price}</p>` : ''}\n          <p><strong>Status:</strong> ${goat.is_active ? 'Active' : 'Inactive'}</p>\n          ${goat.image_url ? `<img src=\"http://localhost:3000${goat.image_url}\" alt=\"Goat Photo\" style=\"max-width: 300px; margin-top: 10px;\" />` : '<p>No image available</p>'}\n        </div>\n      `,\n      confirmButtonColor: '#3085d6'\n    });\n  };\n  const handleBack = () => {\n    navigate('/customer-dashboard');\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"text-center p-10\",\n    children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n      className: \"animate-spin h-8 w-8 text-blue-600 mx-auto\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      fill: \"none\",\n      viewBox: \"0 0 24 24\",\n      children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n        className: \"opacity-25\",\n        cx: \"12\",\n        cy: \"12\",\n        r: \"10\",\n        stroke: \"currentColor\",\n        strokeWidth: \"4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n        className: \"opacity-75\",\n        fill: \"currentColor\",\n        d: \"M4 12a8 8 0 018-8v8z\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-gray-600 mt-2\",\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 185,\n    columnNumber: 13\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"text-center p-10 text-red-500\",\n    children: error\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 206,\n    columnNumber: 23\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-cover bg-center p-6 font-sans\",\n    style: {\n      backgroundImage: `url('/images/index.jpg')`\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-6xl mx-auto bg-white bg-opacity-95 rounded-xl shadow-lg p-6 backdrop-blur-md\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-start mb-4\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleBack,\n          className: \"py-2 px-4 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition\",\n          children: \"Back\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-3xl font-bold text-gray-900 mb-6 text-center drop-shadow-md\",\n        children: \"Buy Goats\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 17\n      }, this), goats.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center text-gray-800\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"No goats available for purchase.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6\",\n        children: goats.map(goat => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-xl shadow-md overflow-visible hover:shadow-lg transition-shadow duration-300 flex flex-col min-w-[280px]\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative w-full pt-[75%]\",\n            children: goat.image_url ? /*#__PURE__*/_jsxDEV(\"img\", {\n              src: `http://localhost:3000${goat.image_url}?t=${new Date().getTime()}`,\n              alt: `Goat #${goat.goat_number || 'N/A'} - ${goat.breed || 'N/A'}`,\n              className: \"absolute top-0 left-0 w-full h-full object-contain p-4 bg-gray-100\",\n              loading: \"lazy\",\n              onError: e => {\n                console.error('Failed to load goat image:', e);\n                e.target.src = 'https://via.placeholder.com/300x225?text=Goat+Image+Not+Found';\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 240,\n              columnNumber: 41\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"absolute top-0 left-0 w-full h-full flex items-center justify-center bg-gray-200 text-gray-600\",\n              children: \"No Image Available\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 251,\n              columnNumber: 41\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-4 flex-1\",\n            style: {\n              minHeight: '180px',\n              display: 'flex',\n              flexDirection: 'column',\n              justifyContent: 'space-between'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                style: {\n                  color: 'black',\n                  fontSize: '16px',\n                  fontWeight: 'bold',\n                  visibility: 'visible',\n                  display: 'block',\n                  width: '100%',\n                  minHeight: '30px',\n                  lineHeight: '1.2',\n                  marginBottom: '12px',\n                  overflowWrap: 'break-word',\n                  whiteSpace: 'normal',\n                  position: 'relative',\n                  zIndex: 1,\n                  backgroundColor: 'rgba(255, 255, 255, 0.9)',\n                  border: '1px solid black',\n                  padding: '4px'\n                },\n                children: goat.goat_number && goat.breed ? `Goat #${goat.goat_number} - ${goat.breed}` : 'Goat Name Unavailable'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 261,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  color: '#374151',\n                  fontSize: '14px',\n                  visibility: 'visible',\n                  display: 'block',\n                  width: '100%',\n                  marginBottom: '8px',\n                  overflowWrap: 'break-word',\n                  whiteSpace: 'normal'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Weight:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 297,\n                  columnNumber: 45\n                }, this), \" \", goat.weight ? `${goat.weight} kg` : 'N/A']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 285,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  color: '#374151',\n                  fontSize: '14px',\n                  visibility: 'visible',\n                  display: 'block',\n                  width: '100%',\n                  marginBottom: '8px',\n                  overflowWrap: 'break-word',\n                  whiteSpace: 'normal'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Price Range:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 311,\n                  columnNumber: 45\n                }, this), \" $\", goat.minimum_price, \" - $\", goat.maximum_price]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 299,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 260,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex space-x-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleViewDetails(goat),\n                className: \"flex-1 py-2 px-4 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition\",\n                children: \"View Details\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 315,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handlePurchase(goat),\n                disabled: purchasingIds.has(goat.id),\n                className: `flex-1 py-2 px-4 text-white rounded-md ${purchasingIds.has(goat.id) ? 'bg-gray-400 cursor-not-allowed' : 'bg-green-600 hover:bg-green-700'}`,\n                children: purchasingIds.has(goat.id) ? 'Purchasing...' : 'Purchase'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 321,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 314,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 33\n          }, this)]\n        }, goat.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 29\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 209,\n    columnNumber: 9\n  }, this);\n}\n_s(BuyGoats, \"3hOeyV82Qc461xOBZhn2J6XJkLA=\", false, function () {\n  return [useNavigate];\n});\n_c = BuyGoats;\nexport default BuyGoats;\nvar _c;\n$RefreshReg$(_c, \"BuyGoats\");","map":{"version":3,"names":["React","useEffect","useState","useNavigate","Swal","jwtDecode","jsxDEV","_jsxDEV","BuyGoats","_s","goats","setGoats","loading","setLoading","error","setError","purchasingIds","setPurchasingIds","Set","navigate","token","localStorage","getItem","fire","icon","title","text","confirmButtonColor","then","decodedToken","err","removeItem","groupId","Number","group_id","userId","user_id","console","log","fetch","headers","Authorization","res","status","statusText","ok","Error","json","data","forEach","goat","id","goat_number","breed","is_active","availableGoats","filter","catch","message","handlePurchase","has","minimum_price","maximum_price","input","inputLabel","inputPlaceholder","showCancelButton","cancelButtonColor","inputValidator","value","price","parseFloat","isNaN","result","isConfirmed","prev","add","method","body","JSON","stringify","goat_id","g","finally","copy","delete","handleViewDetails","html","dob","Date","toLocaleDateString","weight","health_status","image_url","handleBack","className","children","xmlns","fill","viewBox","cx","cy","r","stroke","strokeWidth","fileName","_jsxFileName","lineNumber","columnNumber","d","style","backgroundImage","onClick","length","map","src","getTime","alt","onError","e","target","minHeight","display","flexDirection","justifyContent","color","fontSize","fontWeight","visibility","width","lineHeight","marginBottom","overflowWrap","whiteSpace","position","zIndex","backgroundColor","border","padding","disabled","_c","$RefreshReg$"],"sources":["C:/Users/thumm/OneDrive/Desktop/digi-goat/front-end/src/components/BuyGoats.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport Swal from 'sweetalert2';\r\nimport { jwtDecode } from 'jwt-decode';\r\nimport './css/login.css';\r\n\r\nfunction BuyGoats() {\r\n    const [goats, setGoats] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState('');\r\n    const [purchasingIds, setPurchasingIds] = useState(new Set());\r\n    const navigate = useNavigate();\r\n\r\n    useEffect(() => {\r\n        const token = localStorage.getItem('token');\r\n        if (!token) {\r\n            Swal.fire({\r\n                icon: 'error',\r\n                title: 'Unauthorized',\r\n                text: 'Please log in to buy goats.',\r\n                confirmButtonColor: '#3085d6',\r\n            }).then(() => navigate('/'));\r\n            return;\r\n        }\r\n\r\n        let decodedToken;\r\n        try {\r\n            decodedToken = jwtDecode(token);\r\n        } catch (err) {\r\n            localStorage.removeItem('token');\r\n            Swal.fire({\r\n                icon: 'error',\r\n                title: 'Invalid Token',\r\n                text: 'Your session is invalid. Please log in again.',\r\n                confirmButtonColor: '#3085d6',\r\n            }).then(() => navigate('/'));\r\n            return;\r\n        }\r\n\r\n        const groupId = Number(decodedToken.group_id);\r\n        if (groupId !== 1) {\r\n            Swal.fire({\r\n                icon: 'error',\r\n                title: 'Unauthorized',\r\n                text: 'Customers only (group_id = 1).',\r\n                confirmButtonColor: '#3085d6',\r\n            }).then(() => navigate('/'));\r\n            return;\r\n        }\r\n\r\n        const userId = decodedToken.user_id;\r\n        console.log('Current User ID:', userId);\r\n\r\n        fetch('http://localhost:3000/api/goats/available', {\r\n            headers: { Authorization: `Bearer ${token}` },\r\n        })\r\n            .then((res) => {\r\n                console.log('API Response Status:', res.status, res.statusText);\r\n                if (!res.ok) {\r\n                    throw new Error(`HTTP error! Status: ${res.status}`);\r\n                }\r\n                return res.json();\r\n            })\r\n            .then((data) => {\r\n                console.log('API Response Data:', data);\r\n                data.forEach((goat) => {\r\n                    console.log(\r\n                        `Goat ID: ${goat.id}, Number: ${goat.goat_number}, Breed: ${goat.breed}, is_active: ${goat.is_active}, user_id: ${goat.user_id} (type: ${typeof goat.user_id})`\r\n                    );\r\n                });\r\n                const availableGoats = data.filter((goat) => Number(goat.user_id) !== userId);\r\n                console.log('Available Goats after filtering:', availableGoats);\r\n                setGoats(availableGoats);\r\n                setLoading(false);\r\n            })\r\n            .catch((err) => {\r\n                console.error('Error fetching goats:', err);\r\n                setError(`Failed to load goats: ${err.message}`);\r\n                setLoading(false);\r\n            });\r\n    }, [navigate]);\r\n\r\n    const handlePurchase = (goat) => {\r\n        if (purchasingIds.has(goat.id)) return;\r\n\r\n        // Prompt user to enter a price\r\n        Swal.fire({\r\n            title: `Purchase Goat #${goat.goat_number}`,\r\n            text: `Enter your offer (between $${goat.minimum_price} and $${goat.maximum_price}):`,\r\n            input: 'number',\r\n            inputLabel: 'Price ($)',\r\n            inputPlaceholder: 'Enter price',\r\n            showCancelButton: true,\r\n            confirmButtonColor: '#3085d6',\r\n            cancelButtonColor: '#d33',\r\n            inputValidator: (value) => {\r\n                const price = parseFloat(value);\r\n                if (!value || isNaN(price)) {\r\n                    return 'Please enter a valid price!';\r\n                }\r\n                if (price < goat.minimum_price || price > goat.maximum_price) {\r\n                    return `Price must be between $${goat.minimum_price} and $${goat.maximum_price}!`;\r\n                }\r\n                return null;\r\n            },\r\n        }).then((result) => {\r\n            if (result.isConfirmed) {\r\n                const price = parseFloat(result.value);\r\n                setPurchasingIds((prev) => new Set(prev).add(goat.id));\r\n\r\n                const token = localStorage.getItem('token');\r\n                fetch('http://localhost:3000/api/purchases', {\r\n                    method: 'POST',\r\n                    headers: {\r\n                        Authorization: `Bearer ${token}`,\r\n                        'Content-Type': 'application/json',\r\n                    },\r\n                    body: JSON.stringify({ goat_id: goat.id, price }),\r\n                })\r\n                    .then((res) => {\r\n                        if (!res.ok) {\r\n                            return res.json().then((data) => {\r\n                                throw new Error(data.message || 'Failed to purchase goat.');\r\n                            });\r\n                        }\r\n                        return res.json();\r\n                    })\r\n                    .then((data) => {\r\n                        Swal.fire({\r\n                            icon: 'success',\r\n                            title: 'Goat Purchased',\r\n                            text: 'You have successfully purchased the goat!',\r\n                            confirmButtonColor: '#3085d6',\r\n                        }).then(() => {\r\n                            setGoats(goats.filter((g) => g.id !== goat.id));\r\n                            navigate('/my-goats');\r\n                        });\r\n                    })\r\n                    .catch((err) => {\r\n                        Swal.fire({\r\n                            icon: 'error',\r\n                            title: 'Purchase Failed',\r\n                            text: err.message || 'Failed to purchase goat. Please try again.',\r\n                            confirmButtonColor: '#3085d6',\r\n                        });\r\n                    })\r\n                    .finally(() => {\r\n                        setPurchasingIds((prev) => {\r\n                            const copy = new Set(prev);\r\n                            copy.delete(goat.id);\r\n                            return copy;\r\n                        });\r\n                    });\r\n            }\r\n        });\r\n    };\r\n\r\n    const handleViewDetails = (goat) => {\r\n        Swal.fire({\r\n            icon: 'info',\r\n            title: `Goat #${goat.goat_number} Details`,\r\n            html: `\r\n        <div style=\"text-align: left;\">\r\n          <p><strong>Breed:</strong> ${goat.breed || 'N/A'}</p>\r\n          <p><strong>Date of Birth:</strong> ${goat.dob ? new Date(goat.dob).toLocaleDateString() : 'N/A'}</p>\r\n          <p><strong>Weight:</strong> ${goat.weight ? `${goat.weight} kg` : 'N/A'}</p>\r\n          <p><strong>Health Status:</strong> ${goat.health_status || 'N/A'}</p>\r\n          <p><strong>Minimum Price:</strong> $${goat.minimum_price || 'N/A'}</p>\r\n          <p><strong>Maximum Price:</strong> $${goat.maximum_price || 'N/A'}</p>\r\n          ${goat.price ? `<p><strong>Fixed Price:</strong> $${goat.price}</p>` : ''}\r\n          <p><strong>Status:</strong> ${goat.is_active ? 'Active' : 'Inactive'}</p>\r\n          ${goat.image_url ? `<img src=\"http://localhost:3000${goat.image_url}\" alt=\"Goat Photo\" style=\"max-width: 300px; margin-top: 10px;\" />` : '<p>No image available</p>'}\r\n        </div>\r\n      `,\r\n            confirmButtonColor: '#3085d6',\r\n        });\r\n    };\r\n\r\n    const handleBack = () => {\r\n        navigate('/customer-dashboard');\r\n    };\r\n\r\n    if (loading)\r\n        return (\r\n            <div className=\"text-center p-10\">\r\n                <svg\r\n                    className=\"animate-spin h-8 w-8 text-blue-600 mx-auto\"\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                    fill=\"none\"\r\n                    viewBox=\"0 0 24 24\"\r\n                >\r\n                    <circle\r\n                        className=\"opacity-25\"\r\n                        cx=\"12\"\r\n                        cy=\"12\"\r\n                        r=\"10\"\r\n                        stroke=\"currentColor\"\r\n                        strokeWidth=\"4\"\r\n                    ></circle>\r\n                    <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8v8z\"></path>\r\n                </svg>\r\n                <p className=\"text-gray-600 mt-2\">Loading...</p>\r\n            </div>\r\n        );\r\n\r\n    if (error) return <div className=\"text-center p-10 text-red-500\">{error}</div>;\r\n\r\n    return (\r\n        <div\r\n            className=\"min-h-screen bg-cover bg-center p-6 font-sans\"\r\n            style={{\r\n                backgroundImage: `url('/images/index.jpg')`,\r\n            }}\r\n        >\r\n            <div className=\"max-w-6xl mx-auto bg-white bg-opacity-95 rounded-xl shadow-lg p-6 backdrop-blur-md\">\r\n                <div className=\"flex justify-start mb-4\">\r\n                    <button\r\n                        onClick={handleBack}\r\n                        className=\"py-2 px-4 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition\"\r\n                    >\r\n                        Back\r\n                    </button>\r\n                </div>\r\n                <h2 className=\"text-3xl font-bold text-gray-900 mb-6 text-center drop-shadow-md\">\r\n                    Buy Goats\r\n                </h2>\r\n                {goats.length === 0 ? (\r\n                    <div className=\"text-center text-gray-800\">\r\n                        <p>No goats available for purchase.</p>\r\n                    </div>\r\n                ) : (\r\n                    <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n                        {goats.map((goat) => (\r\n                            <div\r\n                                key={goat.id}\r\n                                className=\"bg-white rounded-xl shadow-md overflow-visible hover:shadow-lg transition-shadow duration-300 flex flex-col min-w-[280px]\"\r\n                            >\r\n                                <div className=\"relative w-full pt-[75%]\">\r\n                                    {goat.image_url ? (\r\n                                        <img\r\n                                            src={`http://localhost:3000${goat.image_url}?t=${new Date().getTime()}`}\r\n                                            alt={`Goat #${goat.goat_number || 'N/A'} - ${goat.breed || 'N/A'}`}\r\n                                            className=\"absolute top-0 left-0 w-full h-full object-contain p-4 bg-gray-100\"\r\n                                            loading=\"lazy\"\r\n                                            onError={(e) => {\r\n                                                console.error('Failed to load goat image:', e);\r\n                                                e.target.src = 'https://via.placeholder.com/300x225?text=Goat+Image+Not+Found';\r\n                                            }}\r\n                                        />\r\n                                    ) : (\r\n                                        <div className=\"absolute top-0 left-0 w-full h-full flex items-center justify-center bg-gray-200 text-gray-600\">\r\n                                            No Image Available\r\n                                        </div>\r\n                                    )}\r\n                                </div>\r\n                                <div\r\n                                    className=\"p-4 flex-1\"\r\n                                    style={{ minHeight: '180px', display: 'flex', flexDirection: 'column', justifyContent: 'space-between' }}\r\n                                >\r\n                                    <div>\r\n                                        <h3\r\n                                            style={{\r\n                                                color: 'black',\r\n                                                fontSize: '16px',\r\n                                                fontWeight: 'bold',\r\n                                                visibility: 'visible',\r\n                                                display: 'block',\r\n                                                width: '100%',\r\n                                                minHeight: '30px',\r\n                                                lineHeight: '1.2',\r\n                                                marginBottom: '12px',\r\n                                                overflowWrap: 'break-word',\r\n                                                whiteSpace: 'normal',\r\n                                                position: 'relative',\r\n                                                zIndex: 1,\r\n                                                backgroundColor: 'rgba(255, 255, 255, 0.9)',\r\n                                                border: '1px solid black',\r\n                                                padding: '4px',\r\n                                            }}\r\n                                        >\r\n                                            {goat.goat_number && goat.breed\r\n                                                ? `Goat #${goat.goat_number} - ${goat.breed}`\r\n                                                : 'Goat Name Unavailable'}\r\n                                        </h3>\r\n                                        <p\r\n                                            style={{\r\n                                                color: '#374151',\r\n                                                fontSize: '14px',\r\n                                                visibility: 'visible',\r\n                                                display: 'block',\r\n                                                width: '100%',\r\n                                                marginBottom: '8px',\r\n                                                overflowWrap: 'break-word',\r\n                                                whiteSpace: 'normal',\r\n                                            }}\r\n                                        >\r\n                                            <strong>Weight:</strong> {goat.weight ? `${goat.weight} kg` : 'N/A'}\r\n                                        </p>\r\n                                        <p\r\n                                            style={{\r\n                                                color: '#374151',\r\n                                                fontSize: '14px',\r\n                                                visibility: 'visible',\r\n                                                display: 'block',\r\n                                                width: '100%',\r\n                                                marginBottom: '8px',\r\n                                                overflowWrap: 'break-word',\r\n                                                whiteSpace: 'normal',\r\n                                            }}\r\n                                        >\r\n                                            <strong>Price Range:</strong> ${goat.minimum_price} - ${goat.maximum_price}\r\n                                        </p>\r\n                                    </div>\r\n                                    <div className=\"flex space-x-2\">\r\n                                        <button\r\n                                            onClick={() => handleViewDetails(goat)}\r\n                                            className=\"flex-1 py-2 px-4 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition\"\r\n                                        >\r\n                                            View Details\r\n                                        </button>\r\n                                        <button\r\n                                            onClick={() => handlePurchase(goat)}\r\n                                            disabled={purchasingIds.has(goat.id)}\r\n                                            className={`flex-1 py-2 px-4 text-white rounded-md ${purchasingIds.has(goat.id)\r\n                                                    ? 'bg-gray-400 cursor-not-allowed'\r\n                                                    : 'bg-green-600 hover:bg-green-700'\r\n                                                }`}\r\n                                        >\r\n                                            {purchasingIds.has(goat.id) ? 'Purchasing...' : 'Purchase'}\r\n                                        </button>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default BuyGoats;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}